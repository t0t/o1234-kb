<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="01234 Concept - A conceptual model for understanding patterns and structures of reality" />
    <meta name="keywords" content="01234, concept, patterns, structures, reality, model, understanding, framework" />
    <meta name="author" content="01234 Team" />
    <meta name="theme-color" content="#242424" />
    <meta property="og:title" content="01234 Concept - Understanding Reality Patterns" />
    <meta property="og:description" content="A conceptual model for understanding patterns and structures of reality" />
    <meta property="og:type" content="website" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="01234 Concept" />
    <meta name="twitter:description" content="A conceptual model for understanding patterns and structures of reality" />
    <title>01234 Concept - Understanding Reality Patterns</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="src/css/styles.css">
    <script type="module">
      // Importar componentes
      import './src/js/components/Navbar.js';
      import './src/js/components/Hero.js';
      import './src/js/components/Features.js';
      import './src/js/components/Fundamentals.js';
      import './src/js/components/Uses.js';
      import './src/js/components/InfoSlides.js';
      import './src/js/components/FAQ.js';
      import './src/js/components/Contact.js';
      import './src/js/components/Footer.js';
      import './src/js/components/Video.js';

      // Inicializar la aplicación cuando el DOM esté listo
      window.addEventListener('DOMContentLoaded', () => {
        document.querySelector('#app').innerHTML = `
          <nav-bar></nav-bar>
          <main>
            <section id="hero">
              <hero-section></hero-section>
            </section>
            <section id="features" class="container">
              <features-section></features-section>
            </section>
            <section id="fundamentals" class="container">
              <fundamentals-section></fundamentals-section>
            </section>
            <section id="video" class="container">
              <video-section></video-section>
            </section>
            <section id="uses" class="container">
              <uses-section></uses-section>
            </section>
            <section id="info-slides" class="container">
              <info-slides-section></info-slides-section>
            </section>
            <section id="faq" class="container">
              <faq-section></faq-section>
            </section>
            <section id="contact" class="container">
              <contact-section></contact-section>
            </section>
          </main>
          <footer-section></footer-section>
        `;

        // Configurar IntersectionObserver para la navegación
        const sections = document.querySelectorAll('main > section');
        const navBar = document.querySelector('nav-bar');

        const observerOptions = {
          root: null,
          rootMargin: '-20% 0px -20% 0px', // Zona de intersección reducida para mejor precisión
          threshold: [0, 0.25, 0.5, 0.75, 1] // Múltiples puntos de intersección para más suavidad
        };

        const observer = new IntersectionObserver((entries) => {
          // Usar requestAnimationFrame para optimizar actualizaciones visuales
          requestAnimationFrame(() => {
            entries.forEach(entry => {
              if (entry.isIntersecting && entry.intersectionRatio >= 0.5) {
                const id = entry.target.getAttribute('id');
                navBar.setActiveSection(id);
              }
            });
          });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));
      });
    </script>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
